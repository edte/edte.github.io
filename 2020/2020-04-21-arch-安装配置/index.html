<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="edte">
  
  
  
  <link rel="prev" href="https://edte.github.io/2020/2020-04-22-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" />
  <link rel="next" href="https://edte.github.io/2020/2020-04-26-%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AA-linux-%E5%91%BD%E4%BB%A42find/" />
  <link rel="canonical" href="https://edte.github.io/2020/2020-04-21-arch-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           arch安装配置 | a-simple-bolg
       
  </title>
  <meta name="title" content="arch安装配置 | a-simple-bolg">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https://edte.github.io/"
    },
    "articleSection" : "posts",
    "name" : "arch安装配置",
    "headline" : "arch安装配置",
    "description" : "u 盘准备 从 下载页面 选择下好 iso 文件, 插入 u 盘 使用 dd 命令刻录 dd if=boot.img of=/dev/sdx bs=4M 进入 live 环境 联网 dhcpcd 判断网络连接是否正常： ping www.baidu.com 分区 建两个分区, 一个 300 M 大小的 EFI 分",
    "inLanguage" : "en-us",
    "author" : "edte",
    "creator" : "edte",
    "publisher": "edte",
    "accountablePerson" : "edte",
    "copyrightHolder" : "edte",
    "copyrightYear" : "2020",
    "datePublished": "2020-04-21 00:00:00 &#43;0000 UTC",
    "dateModified" : "2020-04-21 00:00:00 &#43;0000 UTC",
    "url" : "https://edte.github.io/2020/2020-04-21-arch-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/",
    "wordCount" : "3212",
    "keywords" : [  "a-simple-bolg"]
}
</script>

    <link href="//use.fontawesome.com/releases/v5.9.0/css/all.css" rel="stylesheet">
</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://edte.github.io/">a-simple-bolg</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://edte.github.io/">a-simple-bolg</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">arch安装配置</h1>
        <div class="post-meta">
           
          <span class="post-time">
         <i class="far fa-calendar-alt"></i>  <time datetime=2020-04-21 itemprop="datePublished">2020-04-21</time>
           </span>
         <i class="far fa-file-word"></i> <span class="post-word-count"> 3212 字</span>
         <i class="far fa-clock"></i> <span class="more-meta"> 7 分钟</span>
        </div>
    </header>
        
          <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title"></h2>
  
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#u-盘准备">u 盘准备</a></li>
<li><a href="#进入-live-环境">进入 live 环境</a></li>
<li><a href="#联网">联网</a></li>
<li><a href="#分区">分区</a></li>
<li><a href="#格式化">格式化</a></li>
<li><a href="#挂载">挂载</a></li>
<li><a href="#设置镜像源">设置镜像源</a></li>
<li><a href="#密钥">密钥</a></li>
<li><a href="#安装基本包">安装基本包</a></li>
<li><a href="#生成挂载表">生成挂载表</a></li>
<li><a href="#切换系统">切换系统</a></li>
<li><a href="#设置时区">设置时区</a></li>
<li><a href="#提前安装必须软件包">提前安装必须软件包</a></li>
<li><a href="#本地化">本地化</a></li>
<li><a href="#设置系统为中文">设置系统为中文</a></li>
<li><a href="#设置主机名">设置主机名</a></li>
<li><a href="#配置-hosts">配置 hosts</a></li>
<li><a href="#配置-dns">配置 DNS</a></li>
<li><a href="#设置-root-密码">设置 Root 密码</a></li>
<li><a href="#启用微码更新">启用微码更新</a></li>
<li><a href="#安装-bootloader">安装<code>Bootloader</code></a></li>
<li><a href="#重启">重启</a></li>
<li><a href="#连接网络">连接网络</a></li>
<li><a href="#更新系统">更新系统</a></li>
<li><a href="#更新系统时间">更新系统时间</a></li>
<li><a href="#新建用户">新建用户</a></li>
<li><a href="#设置用户权限">设置用户权限</a></li>
<li><a href="#安装显卡驱动">安装显卡驱动</a></li>
<li><a href="#安装显示服务">安装显示服务</a></li>
<li><a href="#安装窗口管理器">安装窗口管理器</a></li>
<li><a href="#启动窗口管理器">启动窗口管理器</a></li>
<li><a href="#i3-配置">i3 配置</a></li>
<li><a href="#安装中文字体">安装中文字体</a></li>
<li><a href="#主题">主题</a></li>
<li><a href="#终端模拟器">终端模拟器</a></li>
<li><a href="#程序启动器">程序启动器</a></li>
<li><a href="#窗口透明工具">窗口透明工具</a></li>
<li><a href="#安装状态栏">安装状态栏</a></li>
<li><a href="#联网管理">联网管理</a></li>
<li><a href="#壁纸设置">壁纸设置</a></li>
<li><a href="#输入法">输入法</a></li>
<li><a href="#安装浏览器">安装浏览器</a></li>
<li><a href="#shell-配置">shell 配置</a></li>
<li><a href="#文件管理器">文件管理器</a></li>
<li><a href="#使用代理上网">使用代理上网</a></li>
<li><a href="#版本控制系统">版本控制系统</a></li>
<li><a href="#go-语言开发环境">go 语言开发环境</a></li>
<li><a href="#c-语言开发环境">c 语言开发环境</a></li>
<li><a href="#简洁的帮助文档">简洁的帮助文档</a></li>
<li><a href="#markdown-编辑器">markdown 编辑器</a></li>
<li><a href="#vim">vim</a></li>
<li><a href="#终端复用器">终端复用器</a></li>
<li><a href="#磁盘使用分析工具">磁盘使用分析工具</a></li>
<li><a href="#回收站">回收站</a></li>
<li><a href="#grep-替代品">grep 替代品</a></li>
<li><a href="#cat-替代品">cat 替代品</a></li>
<li><a href="#文件搜索工具">文件搜索工具</a></li>
<li><a href="#find-替代品">find 替代品</a></li>
<li><a href="#ls-命令增强">ls 命令增强</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>
<script type="text/javascript">
  window.onload = function () {
    var fix = $('.post-toc');
    var end = $('.post-comment');
    var fixTop = fix.offset().top, fixHeight = fix.height();
    var endTop, miss;
    var offsetTop = fix[0].offsetTop;
    $(window).scroll(function () {
      var docTop = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
      if (end.length > 0) {
        endTop = end.offset().top;
        miss = endTop - docTop - fixHeight;
      }
      if (fixTop < docTop) {
        fix.css({ 'position': 'fixed' });
        if ((end.length > 0) && (endTop < (docTop + fixHeight))) {
          fix.css({ top: miss });
        } else {
          fix.css({ top: 0 });
        }
      } else {
        fix.css({ 'position': 'absolute' });
        fix.css({ top: offsetTop });
      }
    })
  }
</script> 

        

    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          

<h3 id="u-盘准备">u 盘准备</h3>

<p>从 <a href="https://www.archlinux.org/download/" rel="nofollow noreferrer" target="_blank">下载页面</a> 选择下好 iso 文件, 插入 u 盘</p>

<p>使用 dd 命令刻录</p>

<pre><code>dd if=boot.img of=/dev/sdx bs=4M
</code></pre>

<h3 id="进入-live-环境">进入 live 环境</h3>

<h3 id="联网">联网</h3>

<pre><code>dhcpcd
</code></pre>

<p>判断网络连接是否正常：</p>

<pre><code>ping www.baidu.com
</code></pre>

<h3 id="分区">分区</h3>

<p>建两个分区, 一个 300 M 大小的 EFI 分区，格式是 Fat32, 用于挂载  /boot, 一个 格式 ext4 ，用于挂载根目录</p>

<pre><code>fdisk -l
fdisk -l /dev/sdb
d

d

n

+300M

t

1

n
</code></pre>

<h3 id="格式化">格式化</h3>

<pre><code>mkfs.fat -F32 /dev/sdb1
mkfs.ext4 /dev/sdb2
</code></pre>

<h3 id="挂载">挂载</h3>

<pre><code>mount /dev/sdb2 /mnt
mkdir /mnt/boot
mount /dev/sdb1 /mnt/boot 
</code></pre>

<h3 id="设置镜像源">设置镜像源</h3>

<pre><code>vim /etc/pacman.d/mirrorlist
# 在 china 下
Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
Server = http://mirrors.zju.edu.cn/archlinux/$repo/os/$arch

sudo vim /etc/pacman.conf

[archlinuxcn]
SigLevel = Optional TrustedOnly
Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch   
Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch   
</code></pre>

<h3 id="密钥">密钥</h3>

<pre><code># 下载密钥链
sudo pacman -S archlinuxcn-keyring
# 更新密钥
sudo pacman-key --refresh-keys
# 重新加载相应的签名密钥
sudo pacman-key --init
sudo pacman-key --populate
# 清除pacman 的缓冲文件
sudo pacman -Scc
# 更新系统
sudo pacman -Syu
</code></pre>

<h3 id="安装基本包">安装基本包</h3>

<pre><code>pacstrap /mnt base base-devel linux linux-firmware dhcpcd

</code></pre>

<h3 id="生成挂载表">生成挂载表</h3>

<pre><code>genfstab -L /mnt &gt;&gt; /mnt/etc/fstab
cat /mnt/etc/fstab

</code></pre>

<h3 id="切换系统">切换系统</h3>

<pre><code>arch-chroot /mnt
</code></pre>

<h3 id="设置时区">设置时区</h3>

<pre><code>ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
hwclock --systohc
</code></pre>

<h3 id="提前安装必须软件包">提前安装必须软件包</h3>

<pre><code>pacman -S vim dialog wpa_supplicant ntfs-3g networkmanager
</code></pre>

<h3 id="本地化">本地化</h3>

<pre><code>vim /etc/locale.gen

zh_CN.UTF-8 UTF-8 
zh_HK.UTF-8 UTF-8 
zh_TW.UTF-8 UTF-8 
en_US.UTF-8 UTF-8

locale-gen

vim /etc/locale.conf
LANG=en_US.UTF-8
</code></pre>

<h3 id="设置系统为中文">设置系统为中文</h3>

<pre><code>vim $HOME/.xinitrc
# 在 exrc i3 前
export LC_ALL=zh_CN.UTF-8
</code></pre>

<h3 id="设置主机名">设置主机名</h3>

<pre><code>vim /etc/hostname
ENIAC
</code></pre>

<h3 id="配置-hosts">配置 hosts</h3>

<pre><code>vim /etc/hosts

127.0.0.1	localhost
::1		localhost
127.0.1.1	ENIAC.localdomain	ENIAC



# 有些网站被 ban 了，或想加快速度，如 github.com
# 可到 https://www.ipaddress.com/ 查询 ip 后添加
#也可以使用别人弄好的成品
#如
https://github.com/googlehosts/hosts.git &amp;&amp; cd hosts/hosts-files
sudo cp /etc/hosts /etc/hosts.bakup
sudo cp hosts /etc/hosts
</code></pre>

<h3 id="配置-dns">配置 DNS</h3>

<pre><code>sudo vim  /etc/resolv.conf 
# 添加
nameserver 8.8.8.8
nameserver 8.8.4.4
nameserver 198.153.192.1
nameserver 198.153.194.1
nameserver 208.67.222.222
nameserver 208.67.220.220

sudo chattr +i /etc/resolv.conf

systemctl restart NetworkManager.service
</code></pre>

<h3 id="设置-root-密码">设置 Root 密码</h3>

<pre><code>passwd
</code></pre>

<h3 id="启用微码更新">启用微码更新</h3>

<pre><code>pacman -S intel-ucode
sudo grub-mkconfig -o /boot/grub/grub.cfg
</code></pre>

<h3 id="安装-bootloader">安装<code>Bootloader</code></h3>

<pre><code>  pacman -S os-prober ntfs-3g
  pacman -S grub efibootmgr
  grub-install --efi-directory=/boot --bootloader-id=grub
  grub-mkconfig -o /boot/grub/grub.cfg
</code></pre>

<h3 id="重启">重启</h3>

<pre><code>exit
umount /mnt/boot
umount /mnt
reboot
</code></pre>

<h3 id="连接网络">连接网络</h3>

<pre><code>dhcpcd
</code></pre>

<h3 id="更新系统">更新系统</h3>

<pre><code>sudo pacman -Syu
</code></pre>

<h3 id="更新系统时间">更新系统时间</h3>

<pre><code>timedatectl set-ntp true
timedatectl status
</code></pre>

<h3 id="新建用户">新建用户</h3>

<pre><code>useradd -m -G wheel edte
passwd edte
</code></pre>

<h3 id="设置用户权限">设置用户权限</h3>

<pre><code>pacman -S sudo
vim /etc/sudoers
%wheel ALL=(ALL)ALL
</code></pre>

<h3 id="安装显卡驱动">安装显卡驱动</h3>

<pre><code># 查询显卡
lspci | grep -i vga
# 然后找到对应的驱动名称
# 我这里是 750Ti, 不使用 nvidia 驱动，我使用了一段时间，问题有点多
# 换为 nouveau 了
sudo pacman -S  xf86-video-nouveau
# 将 xorg.conf 文件中 的 Driver 行中的 nvidia 改为 nouveau
# 实际我使用过程中，没有这个文件，也没有什么影响（展示）
# 使用这个命令查看使用的是什么驱动
sudo lshw -c video | grep configuration
</code></pre>

<h3 id="安装显示服务">安装显示服务</h3>

<pre><code>sudo pacman -S xorg xorg-xinit xorg-server xorg-apps
</code></pre>

<h3 id="安装窗口管理器">安装窗口管理器</h3>

<pre><code>pacman -S i3-gaps
</code></pre>

<h3 id="启动窗口管理器">启动窗口管理器</h3>

<pre><code>echo exec i3 &gt;&gt; ~/.xinitrc

# 自动登录
vim ~/.bash_profile

if systemctl -q is-active graphical.target &amp;&amp; [[ ! $DISPLAY &amp;&amp; $XDG_VTNR -eq 1 ]]; then
  exec startx
fi 

# 手动登录
startx

# 注意，这里有个坑，不要使用 root 用户登录，sudo startx 也不行
# 否则进入之后一些软件是不支持使用的

</code></pre>

<h3 id="i3-配置">i3 配置</h3>

<pre><code># 键    -  意义
# $mod  -  win
# $alt  -  alt
# $ctrl - Ctrl
# Escape - ESC
# Return - return 
# Space  - space
# Shift - Shift
#
#
# 程序启动时加载
# exec or exec_always

# 主键
set $mod Mod4
set $alt Mod1
set $ctrl Control

# 关闭焦点所在程序
bindsym $alt+Escape   kill

# 移动程序
bindsym $mod+h move left
bindsym $mod+j move down
bindsym $mod+k move up
bindsym $mod+l move right

# 改变浮动状态
bindsym $mod+space floating toggle

# 去除i3的标题栏
new_window none
new_float normal
hide_edge_borders both


# 重启 i3
bindsym $mod+Shift+e exit




# 终端
bindsym $mod+Return exec i3-sensible-terminal

# 浏览器
bindsym $mod+p exec chromium

# rofi 配置
# rofi 是一款程序启动器
# 可以启动程序和更换程序
bindsym $mod+i  exec  rofi -show window
bindsym $mod+o  exec  rofi -show run


# 壁纸设置
# --bg-fill 是设置大小，自动填充满屏幕
# --randomize 是随机，下面表示随机播放壁纸
exec feh --randomize --bg-fill ~/pictures
# 设置一张壁纸
#exec feh --bg-fill /home/edte/Downloads/b65735e8ba5f0dd3f89aaf3cd8cd6be9_720w.jpg

# 设置透明化
exec_always compton -b

# 设置文件管理器
bindsym $mod+e exec thunar

# markdown 编辑器
bindsym $mod+u   exec typora


# 全屏/取消全屏
bindsym $mod+Escape fullscreen toggle

# 配置工作区
set $ws1 &quot;1&quot;
set $ws2 &quot;2&quot;
set $ws3 &quot;3&quot;
set $ws4 &quot;4&quot;
set $ws5 &quot;5&quot;
set $ws6 &quot;6&quot;
set $ws7 &quot;7&quot;
set $ws8 &quot;8&quot;
set $ws9 &quot;9&quot;
set $ws10 &quot;10&quot;

# 切换工作区
bindsym $alt+Tab workspace next

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

# 将焦点所在程序移动到对应工作区
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10
</code></pre>

<h3 id="安装中文字体">安装中文字体</h3>

<pre><code>pacman -S wqy-microhei wqy-zenhei ttf-dejavu
</code></pre>

<h3 id="主题">主题</h3>

<pre><code># lxappearance 是一个主题修改 UI
sudo pacman -S lxappearance
# arc 是一个界面主题， numix 是图标
sudo pacman -S  arc-gtk-theme numix-icon-theme-git
</code></pre>

<h3 id="终端模拟器">终端模拟器</h3>

<pre><code>pacman -S konsole
vim  $HOME/.config/i3/config
# 终端
bindsym $mod+Return exec i3-sensible-terminal
</code></pre>

<h3 id="程序启动器">程序启动器</h3>

<pre><code>pacman -S rofi

# 生成配置列表
# rofi 配置
# rofi 是一款程序启动器
# 可以启动程序和更换程序
vim  $HOME/.config/i3/config

bindsym $mod+z  exec  rofi -show window
bindsym $mod+d  exec  rofi -show drun

</code></pre>

<h3 id="窗口透明工具">窗口透明工具</h3>

<pre><code>pacman -S compton

vim  $HOME/.config/i3/config

exec_always compton -b
</code></pre>

<h3 id="安装状态栏">安装状态栏</h3>

<pre><code># polybar 是一个状态栏工具
# polybar 的配置文件在 $HOME/.config/polybar
# 此目录下有两个文件，一个 launch.sh 用于启动 polybar
# 一个 config 文件是配置文件

# 安装 polybar
yay -S polybar-git

# 配置
install -Dm644 /usr/share/doc/polybar/config $HOME/.config/polybar/config

# 配置安装脚本
vim ~/.config/polybar/launch.sh

# 输入
killall -q polybar

while pgrep -u $UID -x polybar &gt;/dev/null; do sleep 1; done

polybar example

# 给权限
chmod + ~/.config/polybar/launch.sh

# 配置状态栏
vim vim ~/.config/polybar/config
输入
https://github.com/Kuari/i3-wm-config/blob/master/.config/polybar/config

# 开机自动启动
vim  $HOME/.config/i3/config

exec . ~/.config/polybar/launch.sh
</code></pre>

<h3 id="联网管理">联网管理</h3>

<pre><code>systemctl enable dhcpcd
</code></pre>

<h3 id="壁纸设置">壁纸设置</h3>

<pre><code>pacman -S feh

vim  $HOME/.config/i3/config

# 壁纸设置
# --bg-fill 是设置大小，自动填充满屏幕
# --randomize 是随机，下面表示随机播放壁纸
exec feh --randomize --bg-fill ~/picture
# 设置一张壁纸
exec feh --bg-fill ~/image.file
</code></pre>

<h3 id="输入法">输入法</h3>

<pre><code># 安装
sudo pacman -S fcitx fcitx-qt5 kcm-fcitx fcitx-cloudpinyin fcitx-libpinyin fcitx-configtool
# 配置文件
sudo vim $HOME/.xinitrc
# 在 exrc i3 上方输入
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx
fcitx

# 重启
reboot
# 配置
输入法，云拼音，壁纸，字典，剪切班，快捷键

</code></pre>

<h3 id="安装浏览器">安装浏览器</h3>

<pre><code>pacman -S chromium 

vim  $HOME/.config/i3/config
bindsym $mod+q exec chromium
</code></pre>

<h3 id="shell-配置">shell 配置</h3>

<pre><code># zsh 是一个不错的 shell
pacman -S zsh

# oh-my-zsh 是一个 方便配置 zsh 的工具
# 安装 oh-my-zsh
sudo git clone https://github.com/ohmyzsh/ohmyzsh.git
cd /ohmyzsh/tools
./install.sh

# 安装插件

# zsh-autosuggestions 是一个自动补全命令工具
# 如 曾经输入 ps -aux | grep abc
# 现在要输入类似命令，那么直接输入 ps ，就会把 ps -aux | grep abc 后的命令灰色表示出来
# 可以直接 右方向键补全这个命令
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions


# zsh-syntax-hightlighting 是一个不错的高亮工具，当命令正确时为 绿色，错误为红色
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

# z.lua 是一个目录跳转工具，常用于跳转常用的复杂目录
# 比如曾经使用过 cd $HOME/blog/myback/hello
# 那么只需直接 z 目录中的一部分，当然最好是特殊的地方
# 如此处可直接  z hello
sudo pacman -S lua
git clone https://github.com/skywind3000/z.lua.git  ~/.oh-my-zsh/plugins/z.lua


# zsh-history-substring-search 是一个历史查询命令
# 比如 曾经输入过 cd / 和 cd ~
# 现在 输入 cd ，然后 用上下反向键控制，就会补全历史中以 cd 开头的命令
git clone https://github.com/zsh-users/zsh-history-substring-search ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-history-substring-search

# thefuck 是一个智能匹配上一个命令类似的工具
# 常用于命令输入错误后使用
# 如输入 pythoj
# 然后 fuck
# 就会自动到 python
sudo pacman -S thefuck


# hstr 是一个查询历史命令的工具，是 ctrl+r 的替代品，有时候有一些复杂的命令
# 使用上面的方法找不到时，就要使用这个命令了
# 输入 hstr
# 然后输入命令，在使用方向键查找
yay -S hstr-git

# sudo 是一个很不错的工具
# 当忘记输入 sudo 后
# 可以双击 ESC 使用 sudo 命令执行上一命令
# 这个插件是 oh-my-zsh 自带的

# 配置
sudo vim ~/.zshrc

# 输入
export ZSH=&quot;/home/edte/.oh-my-zsh&quot;
ZSH_THEME=&quot;ys&quot;
# plugins
plugins=(
  zsh-history-substring-search
  sudo
# 使用 x 解压
  extract
  zsh-autosuggestions
  zsh-syntax-highlighting
)

source $ZSH/oh-my-zsh.sh
eval &quot;$(lua /home/edte/.oh-my-zsh/plugins/z.lua/z.lua  --init zsh)&quot;
eval $(thefuck --alias)

alias setproxy=&quot;export ALL_PROXY=socks5://127.0.0.1:1080&quot;
alias unsetproxy=&quot;unset ALL_PROXY&quot;
alias getip=&quot;curl -i httpbin.org/get&quot;
alias install='sudo pacman -S'
alias remove='sudo pacman -Rs'
alias upgrade='sudo pacman -Syu'
alias push='/home/edte/.config/git-push.sh'


# 生效
source ~/.zshrc

# 推荐一个工具，经常强制重启会遇到的问题
# corrupt history file/home/xxx/.zsh_history
sudo npm install -g zsh_history
zsh_history
</code></pre>

<h3 id="文件管理器">文件管理器</h3>

<pre><code># thunar 是一个有 ui 的轻亮级文件管理器
pacman -S thunar

# 配置快捷键
vim  $HOME/.config/i3/config
bindsym $mod+e exec thuna

# ranger 是一个 cli 文件管理器
# 用于查看图片比较方便
# feh 也可以查看图片，但是查看多个图片时，比较慢
sudo pacman -S ranger
</code></pre>

<h3 id="使用代理上网">使用代理上网</h3>

<pre><code># arch 下 ssr 没有图形化程序， ssr-eletrion 有兼容问题，只能使用命令行
# v2ray 可以使用 qv2ray
# ss 一般使用 shadowssocks-qt5
# 这里提供 ss 教程
# 安装
sudo pacman -S shadowsocks-qt5
# 配置
# 打开后配置即可
# 终端使用代理, 这里是设置全局代理，端口自己改
export ALL_PROXY=socks5://127.0.0.1:1080
# 取消
unset ALL_PROXY
# 测试，看 ip 变了没
curl -i httpbin.org/get

# 为方便使用，可以 alias 一下
sudo vim $HOME/.zshrc

alias setproxy=&quot;export ALL_PROXY=socks5://127.0.0.1:1080&quot;
alias unsetproxy=&quot;unset ALL_PROXY&quot;
alias getip=&quot;curl -i httpbin.org/get&quot;

source $HOME/.zshrc

# 浏览器使用代理, 我使用的是 chromium
# chromium 不支持 i3, 需要借助插件 Proxy SwitchyOmega
# 下载插件
https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?hl=zh-CN
# 设置
# 在情景模式中
# 设置 proxy 为 127.0.0.1 和 1080  ，端口自己改
# 设置 auto switch 为 规则列表规则
# (按照规则列表匹配请求) 设置为 proxy
# 默认情景模式 设置为 直接连接
# 规则列表设置 选择 AutoProxy
# 然后在 规则列表网址  中输入  https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt
# 这个网站是 gfw ban 的站点
# 然后更新情景模式，再点插件图标，选择 suto switch 即可

# 设置的原理也好理解，即在打开一个网站后，先判断这个站点在不在我们刚输的 规则列表网址中
# 如果在，那么使用代理，否则直接连接，要判断是否使用了代理
# 可以在打开站点后点击插件图标，即可看见

# 参考 https://www.flyzy2005.com/tech/switchyomega-proxy-server/

# 也可以临时使用插件 集装箱 或谷歌上网助手
googlehelper.net
one.newday.me
</code></pre>

<h3 id="版本控制系统">版本控制系统</h3>

<pre><code>sudo pacman -S git
# 配置 github
git config --global user.name &quot;edte&quot;
git config --global user.email &quot;zzzzip6@gmail.com&quot;
# 安装 keygen
sudo pacman -S openssh
ssh-keygen -t rsa -C &quot;zzzzip6@gmail.com&quot;
cat $HOME/.ssh/id_rsa.pub


# 使用脚本自动 push
# 需要使用到 expect 命令
sudo pacman -S expect

sudo vim $HOME/.config/git-push.sh
# 输入

#! /usr/bin/expect
spawn git push origin master
expect &quot;*Username*&quot;
send &quot;edte\r&quot;
expect &quot;Password&quot;
send &quot;your password\r&quot;
cd ~
interact

# 设置 alias
sudo vim $HOME/.zshrc
alias push='/home/edte/.config/git-push.sh'
source $HOME/.zshrc
# 以后直接在 git 目录 push 即可
</code></pre>

<h3 id="go-语言开发环境">go 语言开发环境</h3>

<pre><code>sudo pacman -S go jdk goland
</code></pre>

<h3 id="c-语言开发环境">c 语言开发环境</h3>

<pre><code>sudo pacman -S cmake clion 
</code></pre>

<h3 id="简洁的帮助文档">简洁的帮助文档</h3>

<pre><code># tldr 是 man 的替代品
sudo pacman -S tldr
# 更新缓存
tldr --update
# 本地缓存在 $HOME/.cache/tldr
# 其他可查看 https://s0pypi0org.icopy.site/project/tldr/
</code></pre>

<h3 id="markdown-编辑器">markdown 编辑器</h3>

<pre><code>sudo pacman -S typora

vim  $HOME/.config/i3/config
bindsym $mod+1 exec typora

</code></pre>

<h3 id="vim">vim</h3>

<pre><code>sudo pacman -S vim

git clone https://github.com/spf13/spf13-vim.git
cd spf13-vim
./bootstrap.sh

</code></pre>

<h3 id="终端复用器">终端复用器</h3>

<pre><code># terminal multiplexer 就是支持在一个 terminal 里打开多个 session 的工具，当然也支持其他功能。
sudo pacman -S tmux

# 一个优秀的教程 https://www.ruanyifeng.com/blog/2019/10/tmux.html
</code></pre>

<h3 id="磁盘使用分析工具">磁盘使用分析工具</h3>

<pre><code># ncdu 是 du 的替代品，无需如 du 一样使用许多命令，直接是输入 ncdu 即可
sudo pacman -S ncdu
ncdu
</code></pre>

<h3 id="回收站">回收站</h3>

<pre><code># Trash 是一个回收站命令，也就是把文件/目录移动到特定目录
# trash-put： 删除文件和目录（仅放入回收站中）
# trash-list ：列出被删除了的文件和目录
# trash-restore：从回收站中恢复文件或目录 trash.
# trash-rm：删除回收站中的文件
# trash-empty：清空回收站
# 回收站对应的目录是 $HOME/.local/share/Trash
sudo pacman -S trash-cli
</code></pre>

<h3 id="grep-替代品">grep 替代品</h3>

<pre><code># grep 是一个使用正则表达式查询的工具
# 而 rg 则是其替代品， rg 更加迅速
pacman -S ripgrep
</code></pre>

<h3 id="cat-替代品">cat 替代品</h3>

<pre><code>sudo pacman -S bat
</code></pre>

<h3 id="文件搜索工具">文件搜索工具</h3>

<pre><code>sudo pacman -S fzf
</code></pre>

<h3 id="find-替代品">find 替代品</h3>

<pre><code>sudo pacmsn -S fd
</code></pre>

<h3 id="ls-命令增强">ls 命令增强</h3>

<pre><code>sudo pacman -S exa
</code></pre>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>edte </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://edte.github.io/2020/2020-04-21-arch-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/>https://edte.github.io/2020/2020-04-21-arch-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://edte.github.io/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://edte.github.io/2020/2020-04-22-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="prev" rel="prev" title="正则表达式"><i class="iconfont icon-left"></i>&nbsp;正则表达式</a>
         
        
        <a href="https://edte.github.io/2020/2020-04-26-%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AA-linux-%E5%91%BD%E4%BB%A42find/" class="next" rel="next" title="每天一个-Linux-命令(2)find">每天一个-Linux-命令(2)find&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

 <div class="post-comment">
       
             
             
             <span id="/2020/2020-04-21-arch-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/" class="leancloud_visitors" data-flag-title="arch安装配置">
                 <span class="post-meta-item-text">访问量 </span>
                 <span class="leancloud-visitors-count"></span>
                 <p></p>
             </span>
             <div id="vcomments"></div>
             <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
             <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
             <script type="text/javascript">
                 new Valine({
                     el: '#vcomments' ,
                     appId: 'jYOoQf1fiqM8W9yLLQFElx0b-MdYXbMMI',
                     appKey: 'kBEzPfUjNEJ4MSrSRitotLRX',
                     notify:  false ,
                     verify:  false ,
                     avatar:'mp',
                     placeholder: '说点什么吧...',
                     visitor:  true 
                 });
             </script>
       
 </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2020 - 2022</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://edte.github.io/">edte</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
